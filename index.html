<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Whac-A-Mole - Jogo cl√°ssico de acertar toupeiras com tr√™s n√≠veis de dificuldade. Teste seus reflexos, marque pontos e entre para o ranking de recordes!">
    <meta name="keywords" content="whac-a-mole, jogo de toupeira, jogo online, jogo gr√°tis, reflexos, arcade, pontua√ß√£o, recordes, jogo html5, jogo browser, divers√£o">
    <meta name="author" content="Silas Melo">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Portuguese">
    <meta name="revisit-after" content="7 days">
    <meta name="theme-color" content="#667eea">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://7silasmelo7.github.io/Jogo-Whac-A-Mole/">
    <meta property="og:title" content="Whac-A-Mole - Jogo de Reflexos Online Gr√°tis">
    <meta property="og:description" content="Teste seus reflexos neste cl√°ssico jogo de acertar toupeiras! Tr√™s n√≠veis de dificuldade, sistema de pontua√ß√£o e ranking de recordes.">
    <meta property="og:image" content="https://7silasmelo7.github.io/Jogo-Whac-A-Mole/imagens/Whac-A-Mole.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="pt_BR">
    <meta property="og:site_name" content="Whac-A-Mole">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://7silasmelo7.github.io/Jogo-Whac-A-Mole/">
    <meta name="twitter:title" content="Whac-A-Mole - Jogo de Reflexos Online Gr√°tis">
    <meta name="twitter:description" content="Teste seus reflexos neste cl√°ssico jogo de acertar toupeiras! Tr√™s n√≠veis de dificuldade e sistema de recordes.">
    <meta name="twitter:image" content="https://7silasmelo7.github.io/Jogo-Whac-A-Mole/imagens/Whac-A-Mole.jpg">
    <meta name="twitter:creator" content="@silasmelo">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="imagens/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="imagens/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="imagens/favicon-16x16.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Whac-A-Mole">
    
    <!-- Microsoft -->
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="msapplication-config" content="browserconfig.xml">
    
    <link rel="stylesheet" href="css/estilo_responsivo.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Spice&display=swap" rel="stylesheet">
    <!-- Bootstrap -->
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
        crossorigin="anonymous">
    <title>Whac-A-Mole - Menu Principal</title>
</head>
<body>
    <a href="#menu-principal" class="skip-link">Pular para o menu principal</a>
    <!-- Modal de Registro do Jogador -->
    <div class="modal-overlay" id="modalJogador" style="display: none;" role="dialog" aria-labelledby="modalTitle" aria-modal="true">
        <div class="modal-content">
            <h2 id="modalTitle" style="font-family: 'Bungee Spice', sans-serif; text-align: center; margin-bottom: 20px;">Bem-vindo ao Whac-A-Mole!</h2>
            <form id="formJogador">
                <div class="form-group">
                    <label for="nomeJogador">Digite seu nome:</label>
                    <input 
                        type="text" 
                        id="nomeJogador" 
                        class="form-control" 
                        maxlength="20" 
                        required 
                        placeholder="Seu nome" 
                        pattern="[A-Za-z√Ä-√ø0-9\s]+" 
                        title="Apenas letras, n√∫meros e espa√ßos s√£o permitidos"
                        aria-required="true"
                        aria-describedby="nomeHelp">
                    <small id="nomeHelp" class="form-text text-muted">M√°ximo 20 caracteres. Apenas letras, n√∫meros e espa√ßos.</small>
                </div>
                <div class="form-group">
                    <label for="dificuldadeModal">Escolha a dificuldade:</label>
                    <select id="dificuldadeModal" class="form-select" aria-label="Selecionar dificuldade do jogo">
                        <option value="facil" selected>F√°cil</option>
                        <option value="medio">M√©dio</option>
                        <option value="dificil">Dif√≠cil</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary btn-block" aria-label="Come√ßar o jogo">Come√ßar Jogo</button>
                <button type="button" class="btn btn-secondary btn-block mt-2" id="btnCancelar" aria-label="Cancelar e voltar ao menu">Cancelar</button>
            </form>
        </div>
    </div>

    <main role="main">
        <section class="menu-principal" id="menu-principal">
            <div class="menu-container">
                <div class="logo-container">
                    <img src="imagens/Whac-A-Mole.jpg" alt="Logo do jogo Whac-A-Mole com toupeira" class="logo-image">
                    <h1 class="game-title">Whac-A-Mole</h1>
                </div>
                
                <nav class="menu-buttons" role="navigation" aria-label="Menu principal do jogo">
                    <button class="menu-btn btn-jogar" id="btnJogar" aria-label="Iniciar novo jogo" type="button">
                        <span class="btn-icon" aria-hidden="true">‚ñ∂</span>
                        <span class="btn-text">Jogar</span>
                    </button>
                    
                    <a href="regras.html" class="menu-btn btn-regras" aria-label="Ver regras do jogo">
                        <span class="btn-icon" aria-hidden="true">üìñ</span>
                        <span class="btn-text">Regras</span>
                    </a>
                    
                    <a href="recordes.html" class="menu-btn btn-recordes" aria-label="Ver tabela de recordes">
                        <span class="btn-icon" aria-hidden="true">üèÜ</span>
                        <span class="btn-text">Recordes</span>
                    </a>
                </nav>
                
                <footer class="footer-info" role="contentinfo">
                    <p>Desenvolvido por Silas Melo | 2025</p>
                </footer>
            </div>
        </section>
    </main>
    
    <script>
        // Gerenciamento do modal e navega√ß√£o
        document.addEventListener('DOMContentLoaded', () => {
            const btnJogar = document.getElementById('btnJogar');
            const modalJogador = document.getElementById('modalJogador');
            const formJogador = document.getElementById('formJogador');
            const btnCancelar = document.getElementById('btnCancelar');
            const nomeInput = document.getElementById('nomeJogador');
            const dificuldadeModal = document.getElementById('dificuldadeModal');
            
            // Abrir modal ao clicar em Jogar
            if (btnJogar) {
                btnJogar.addEventListener('click', () => {
                    modalJogador.style.display = 'flex';
                    nomeInput.focus();
                });
            }
            
            // Cancelar e fechar modal
            if (btnCancelar) {
                btnCancelar.addEventListener('click', () => {
                    modalJogador.style.display = 'none';
                    nomeInput.value = '';
                });
            }
            
            // Fun√ß√£o para sanitizar nome
            function sanitizarNome(nome) {
                // Remove espa√ßos extras no in√≠cio e fim
                nome = nome.trim();
                
                // Remove m√∫ltiplos espa√ßos consecutivos
                nome = nome.replace(/\s+/g, ' ');
                
                // Remove caracteres especiais perigosos, mant√©m apenas letras, n√∫meros e espa√ßos
                // Permite acentua√ß√£o portuguesa
                nome = nome.replace(/[^A-Za-z√Ä-√ø0-9\s]/g, '');
                
                // Limita a 20 caracteres
                nome = nome.substring(0, 20);
                
                return nome;
            }
            
            // Valida√ß√£o em tempo real
            if (nomeInput) {
                nomeInput.addEventListener('input', (e) => {
                    const valor = e.target.value;
                    // Remove caracteres n√£o permitidos em tempo real
                    e.target.value = valor.replace(/[^A-Za-z√Ä-√ø0-9\s]/g, '');
                });
            }
            
            // Submeter formul√°rio e iniciar jogo
            if (formJogador) {
                formJogador.addEventListener('submit', (e) => {
                    e.preventDefault();
                    let nome = nomeInput.value.trim();
                    const dificuldade = dificuldadeModal.value;
                    
                    // Sanitizar nome
                    nome = sanitizarNome(nome);
                    
                    // Valida√ß√£o adicional
                    if (!nome || nome.length < 2) {
                        alert('Por favor, digite um nome v√°lido (m√≠nimo 2 caracteres).');
                        nomeInput.focus();
                        return;
                    }
                    
                    // Verificar se cont√©m apenas espa√ßos ap√≥s sanitiza√ß√£o
                    if (nome.trim().length === 0) {
                        alert('Por favor, digite um nome v√°lido.');
                        nomeInput.value = '';
                        nomeInput.focus();
                        return;
                    }
                    
                    // Salvar dados do jogador no sessionStorage
                    sessionStorage.setItem('whacAMoleJogador', nome);
                    sessionStorage.setItem('whacAMoleDificuldade', dificuldade);
                    
                    // Redirecionar para o tabuleiro
                    window.location.href = 'tabuleiro.html';
                });
            }
            
            // Fechar modal ao clicar fora
            modalJogador.addEventListener('click', (e) => {
                if (e.target === modalJogador) {
                    modalJogador.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>